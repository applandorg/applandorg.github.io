---
layout: post
title:  "AppMap as a D3 Force-Directed Graph"
author: Petr Dvorak
permalink: /code-gallery/:title/
category: gallery
featured: true
thumb: /code-gallery/assets/img/appmap-force-d3-thumb.png
image: /code-gallery/assets/img/appmap-force-d3.png
excerpt_separator: <!--more-->
---

The [AppMap framework](https://github.com/applandinc/appmap) specifies a simple-to-work-with data format that can
be readily visualized in popular OSS libraries such as the D3. This example demonstrates how to programmatically parse an event stream
in a recorded AppMap JSON file and how to visualize the dynamic dependencies between classes in a D3 force-directed graph.

<!--more-->

<iframe width="100%" height="884" frameborder="0"
  src="https://observablehq.com/embed/@ptrdvrk/appmap-visualization-with-d3-force?cell=chart"></iframe>

{: .btn.btn-primary}
[Check out the D3 graph &raquo;](https://observablehq.com/@ptrdvrk/appmap-visualization-with-d3-force)

## Components used

This example demonstrates use of [AppMaps](https://github.com/applandinc/appmap) generated by [appmap-ruby](https://github.com/applandinc/appmap-ruby) and [appmap-java](https://github.com/applandinc/appmap-java) trace recorders.

## Customizations

The example loads AppMaps that were recorded for the [app.land OSS gallery](https://app.land/examples). The source code lists a few additional AppMap URLs for Java and Ruby OSS applications that can be quickly displayed in place of the default map. The graph is rendered with the D3 library and offers endless customization opportunities. 

## Data sources

The example uses AppMap data recorded from the open source application [Discourse](https://github.com/discourse/discourse), which is a "100% open source discussion platform built for the next decade of the Internet." The data used in this example was recorded from a Discourse test case using the [appmap-ruby](https://github.com/applandinc/appmap-ruby/) client, and uploaded to the [AppLand sandbox](https://app.land). The recorded scenario data is freely downloadable. 

To obtain the download URL for any scenario in the AppLand sandbox, click Properties and then find the 
Raw data link:

<img style="width: 420px; height: 291px;" src="/code-gallery/assets/img/raw-data-link.png">

## Related work

The [Auto-generated component diagram](https://appland.org/code-gallery/generated-component-diagram/) shows how to visualize AppMaps with
an open source javascript [diagram](https://github.com/applandinc/diagrams-js) library. 

The [Querying data in AppMaps](https://appland.org/code-gallery/querying-appmap-data/) example
demonstrates how to process AppMap files with an open source javascrip [data model](https://github.com/applandinc/models-js) library.


[&laquo; Back to the code gallery](/code-gallery)
